## Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
## SPDX-License-Identifier: Apache-2.0

# This is a reusable workflow for running the Enablement test for App Signals.
# It is meant to be called from another workflow.
# Read more about reusable workflows: https://docs.github.com/en/actions/using-workflows/reusing-workflows#overview
name: Test
on:
  push:
    branches:
      - dotnet-sigv4

permissions:
  id-token: write
  contents: read

jobs:
  # Runs in us-west-1 using us-east-1 account
  dotnet-ec2-adot-sigv4:
    uses: ./.github/workflows/dotnet-ec2-adot-sigv4-test.yml
    secrets: inherit
    with:
      caller-workflow-name: 'test'
      staging_distro_name: 'aws-distro-opentelemetry-dotnet-instrumentation-linux-glibc-x64.zip'